language: python

env:
    matrix:
        - PYTHON_VERSION=2.7 
        - PYTHON_VERSION=2.7 MINIMAL_PACKAGES=yes
        - PYTHON_VERSION=3.3 
        - PYTHON_VERSION=3.4 

install:
    - source devtools/travis-ci/install.sh
      # install our package
    - python setup.py install

script:
    # Skip tests that use a lot of memory so Travis doesn't sporadically kill
    # them
    - export PARMED_SKIP_BIG_TESTS=1
    # Print out the version of OpenMM we're using
    - test -z $MINIMAL_PACKAGES && python -c "import simtk.openmm as mm; print('OPENMM VERSION = %s [git rev. %s]' % (mm.version.full_version, mm.version.git_revision))" || true
    - cd test
    - echo "Using `which python` (`python -V`)::"
    - nosetests -vs .
